<!DOCTYPE html>
<html>
  <head>
    
    <style>
      #map {
        width: 100%;
        height: 400px;
        background-color: grey;
      }
    </style>
  </head>
  <body>
    <h3>Map App Demo</h3>
    <!--The div element for the map -->
    <form action="">
        <input type="text">
        <button type="submit" ></button>
    </form>
    <div id="map"></div>
    <script>
    
    var map;

function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 12,
    center: {lat: 51.0879, lng: -114.0624} 
  });

  poly = new google.maps.Polyline({
    
  });
  poly.setMap(map);

  // Add a listener for the click event
  map.addListener('click', addLatLng);
  
}

// Handles click events on a map, and adds a new point to the Polyline.
function addLatLng(event) {
    var contentString = 'hello';
  var marker = new google.maps.Marker({
    position: event.latLng,
    icon:"https://img.icons8.com/doodle/30/000000/filled-flag.png",
    map: map,
    content:contentString
  });
//   marker.addListener('click')
var infowindow = new google.maps.InfoWindow({
    content: contentString
  });
  marker.addListener('click', function() {
    infowindow.open(map, marker);
  });
  const lat = marker.getPosition().lat();
  const long = marker.getPosition().lng();
  console.log(`latitude : ${lat},longitude : ${long}`);
}

    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDGX4T5LFPiQQTFQk9CWQdHONYfbmbV--I&callback=initMap">
    </script>
  </body>
</html>

